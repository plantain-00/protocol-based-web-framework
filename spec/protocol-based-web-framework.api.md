## API Report File for "protocol-based-web-framework"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />
/// <reference types="qs" />

import Ajv from 'ajv';
import type { AxiosStatic } from 'axios';
import type { Client } from 'pg';
import type { Database } from 'sqlite3';
import type { Db } from 'mongodb';
import type { Document as Document_2 } from 'mongodb';
import type { Filter } from 'mongodb';
import type { HeadersInit as HeadersInit_2 } from 'node-fetch';
import NodeFormData = require('form-data');
import type { ObjectId } from 'mongodb';
import { ParsedQs } from 'qs';
import type { Pool } from 'pg';
import { default as qs_2 } from 'qs';
import type { Readable } from 'stream';
import type { Request as Request_2 } from 'express';
import type { RequestInfo as RequestInfo_2 } from 'node-fetch';
import type { RequestInit as RequestInit_2 } from 'node-fetch';
import type { Response as Response_2 } from 'node-fetch';
import type { Response as Response_3 } from 'express';
import type { useEffect } from 'react';
import type { useRef } from 'react';
import type { useState } from 'react';
import { ValidateFunction } from 'ajv';
import { WithId } from 'mongodb';

// @public (undocumented)
export const ajvBackend: Ajv;

// @public (undocumented)
export const ajvFrontend: Ajv;

// @public (undocumented)
export const ajvRouter: Ajv;

// @public (undocumented)
export class ApiAccessorAxios<T extends ApiValidation> extends ApiAccessorBase<T> {
    constructor(validations: T[], axios: AxiosStatic);
    // (undocumented)
    requestRestfulAPI: (method: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE', url: string, args?: {
        path?: Record<string, string | number> | undefined;
        query?: Record<string, unknown> | undefined;
        body?: {} | undefined;
    } | undefined) => Promise<any>;
}

// @public (undocumented)
export class ApiAccessorBase<T extends ApiValidation> {
    constructor(validations: T[]);
    // (undocumented)
    protected getDataFromFetchResponse: (response: Response | Response_2, method: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE', url: string, args?: {
        path?: Record<string, string | number> | undefined;
        query?: Record<string, unknown> | undefined;
        body?: {} | undefined;
    } | undefined) => Promise<any>;
    // (undocumented)
    protected getValidation: (method: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE', url: string) => T | undefined;
    // (undocumented)
    protected validateByJsonSchema: (validation: T | undefined, ignoredFields: string[] | undefined, pickedFields: string[] | undefined, input: unknown) => void;
}

// @public (undocumented)
export class ApiAccessorFetch<T extends ApiValidation> extends ApiAccessorBase<T> {
    // (undocumented)
    requestRestfulAPI: (method: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE', url: string, args?: {
        path?: Record<string, string | number> | undefined;
        query?: Record<string, unknown> | undefined;
        body?: {} | undefined;
    } | undefined) => Promise<any>;
}

// @public (undocumented)
export class ApiAccessorNodeFetch<T extends ApiValidation> extends ApiAccessorBase<T> {
    constructor(validations: T[], fetch: (input: RequestInfo_2, init?: RequestInit_2) => Promise<Response_2>, FormData: typeof NodeFormData, baseUrl: string, headers?: HeadersInit_2 | undefined);
    // (undocumented)
    headers?: HeadersInit_2 | undefined;
    // (undocumented)
    requestRestfulAPI: (method: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE', url: string, args?: {
        path?: Record<string, string | number> | undefined;
        query?: Record<string, unknown> | undefined;
        body?: {} | undefined;
    } | undefined) => Promise<any>;
}

// @public (undocumented)
export interface ApiValidation {
    // (undocumented)
    method: string;
    // (undocumented)
    omittedReferences: string[];
    // (undocumented)
    responseType: 'json' | 'text' | 'blob';
    // (undocumented)
    schema: {
        definitions: {
            [key: string]: {
                $ref?: string;
                properties?: {
                    [key: string]: unknown;
                };
                required?: string[];
            };
        };
    };
    // (undocumented)
    url: string;
    // (undocumented)
    urlPattern?: RegExp;
    // (undocumented)
    validate: ValidateFunction;
}

// @public (undocumented)
export function composeUrl(url: string, args?: {
    path?: Record<string, string | number>;
    query?: {};
}): string;

// @public (undocumented)
export function getAndValidateRequestInput(req: Request_2<{}, {}, {}>, validate: ValidateFunction<unknown>, cookie?: unknown): string | {
    path: {};
    query: ParsedQs;
    body: {
        [key: string]: unknown;
    };
    cookie: unknown;
};

// @public (undocumented)
export const getKeys: <T>(obj: T) => (keyof T)[];

// @public (undocumented)
export const isArray: (arg: unknown) => arg is unknown[];

// @public (undocumented)
export function isReadable(stream: unknown): stream is Readable;

// @public (undocumented)
export function matchRoute(location: string, route: Route): string | false | {
    path: unknown;
    query: qs_2.ParsedQs;
};

// @public (undocumented)
export class MongodbAccessor<TableName extends string> {
    constructor(db: Db, tableSchemas: Record<TableName, {
        fieldNames: string[];
    }>);
    // (undocumented)
    countRow: <T>(tableName: TableName, options?: Partial<{
        filter: { [P in keyof T]?: T[P] | readonly T[P][] | undefined; };
        fuzzyFilter: { [P_1 in keyof T]?: T[P_1] | readonly T[P_1][] | undefined; };
        rawFilter: MongodbRawFilter;
    }> | undefined) => Promise<number>;
    // (undocumented)
    deleteRow: <T>(tableName: TableName, options?: Partial<{
        filter: { [P in keyof T]?: T[P] | readonly T[P][] | undefined; };
        fuzzyFilter: { [P_1 in keyof T]?: T[P_1] | readonly T[P_1][] | undefined; };
        rawFilter: MongodbRawFilter;
    }> | undefined) => Promise<void>;
    // (undocumented)
    getRow: <T extends Record<string, unknown>>(tableName: TableName, options?: RowSelectOneOptions<T, MongodbRawFilter> | undefined) => Promise<WithId<Document_2> | undefined>;
    // (undocumented)
    insertRow: <T extends Record<string, unknown>>(tableName: TableName, value: T) => Promise<ObjectId>;
    // (undocumented)
    selectRow: <T extends Record<string, unknown>>(tableName: TableName, options?: RowSelectOptions<T, MongodbRawFilter> | undefined) => Promise<Document_2[]>;
    // (undocumented)
    updateRow: <T extends Record<string, unknown>>(tableName: TableName, value?: T | undefined, options?: Partial<{
        filter: { [P in keyof T]?: T[P] | readonly T[P][] | undefined; };
        fuzzyFilter: { [P_1 in keyof T]?: T[P_1] | readonly T[P_1][] | undefined; };
        rawFilter: MongodbRawFilter;
    }> | undefined) => Promise<number>;
}

// @public (undocumented)
export type MongodbRawFilter = Filter<unknown>;

// @public (undocumented)
export function navigateTo(to: string, replace?: boolean): void;

// @public (undocumented)
export class PostgresAccessor<TableName extends string> {
    constructor(client: Client | Pool, tableSchemas: Record<TableName, {
        fieldNames: string[];
        fieldTypes: string[];
        autoIncrementField?: string;
        optionalFields: string[];
        uniqueFields: string[];
        indexFields: string[];
    }>);
    // (undocumented)
    countRow: <T>(tableName: TableName, options?: Partial<{
        filter: { [P in keyof T]?: T[P] | readonly T[P][] | undefined; };
        fuzzyFilter: { [P_1 in keyof T]?: T[P_1] | readonly T[P_1][] | undefined; };
        rawFilter: SqlRawFilter;
    }> | undefined) => Promise<number>;
    // (undocumented)
    createTable: (tableName: TableName) => Promise<void>;
    // (undocumented)
    deleteRow: <T>(tableName: TableName, options?: Partial<{
        filter: { [P in keyof T]?: T[P] | readonly T[P][] | undefined; };
        fuzzyFilter: { [P_1 in keyof T]?: T[P_1] | readonly T[P_1][] | undefined; };
        rawFilter: SqlRawFilter;
    }> | undefined) => Promise<void>;
    // (undocumented)
    getRow: <T extends Record<string, unknown>>(tableName: TableName, options?: RowSelectOneOptions<T, SqlRawFilter> | undefined) => Promise<T | undefined>;
    // (undocumented)
    insertRow: <T extends Record<string, unknown>>(tableName: TableName, value: T) => Promise<number>;
    // (undocumented)
    selectRow: <T extends Record<string, unknown>>(tableName: TableName, options?: RowSelectOptions<T, SqlRawFilter> | undefined) => Promise<(T | undefined)[]>;
    // (undocumented)
    updateRow: <T extends Record<string, unknown>>(tableName: TableName, value?: T | undefined, options?: Partial<{
        filter: { [P in keyof T]?: T[P] | readonly T[P][] | undefined; };
        fuzzyFilter: { [P_1 in keyof T]?: T[P_1] | readonly T[P_1][] | undefined; };
        rawFilter: SqlRawFilter;
    }> | undefined) => Promise<number>;
}

// @public (undocumented)
export function respondHandleResult(result: {} | Readable, req: Request_2<{}, {}, {}>, res: Response_3<{}>): void;

// @public (undocumented)
export interface Route {
    // (undocumented)
    Component?: (props: {
        path?: unknown;
        query?: unknown;
    }) => JSX.Element;
    // (undocumented)
    keys: string[];
    // (undocumented)
    name: string;
    // (undocumented)
    path: string;
    // (undocumented)
    regexp?: RegExp;
    // (undocumented)
    validate: ValidateFunction<unknown>;
}

// @public (undocumented)
export type RowFilterOptions<T, TRaw = SqlRawFilter> = Partial<{
    filter: {
        [P in keyof T]?: T[P] | readonly T[P][];
    };
    fuzzyFilter: {
        [P in keyof T]?: T[P] | readonly T[P][];
    };
    rawFilter: TRaw;
}>;

// @public (undocumented)
export type RowSelectOneOptions<T, TRaw = SqlRawFilter> = RowFilterOptions<T, TRaw> & RowSelectSortOption<T> & RowSelectProjectOption<T>;

// @public (undocumented)
export type RowSelectOptions<T, TRaw = SqlRawFilter> = Partial<{
    pagination: {
        take: number;
        skip: number;
    };
}> & RowSelectOneOptions<T, TRaw>;

// @public (undocumented)
export type RowSelectProjectOption<T> = Partial<{
    ignoredFields: (keyof T)[];
    pickedFields: (keyof T)[];
}>;

// @public (undocumented)
export type RowSelectSortOption<T> = Partial<{
    sort: {
        field: keyof T;
        type: 'asc' | 'desc';
    }[];
}>;

// @public (undocumented)
export class SqliteAccessor<TableName extends string> {
    constructor(db: Database, tableSchemas: Record<TableName, {
        fieldNames: string[];
        complexFields: string[];
        autoIncrementField?: string;
        optionalFields: string[];
        uniqueFields: string[];
        indexFields: string[];
    }>);
    // (undocumented)
    countRow: <T>(tableName: TableName, options?: Partial<{
        filter: { [P in keyof T]?: T[P] | readonly T[P][] | undefined; };
        fuzzyFilter: { [P_1 in keyof T]?: T[P_1] | readonly T[P_1][] | undefined; };
        rawFilter: SqlRawFilter;
    }> | undefined) => Promise<number>;
    // (undocumented)
    createTable: (tableName: TableName) => Promise<void>;
    // (undocumented)
    deleteRow: <T>(tableName: TableName, options?: Partial<{
        filter: { [P in keyof T]?: T[P] | readonly T[P][] | undefined; };
        fuzzyFilter: { [P_1 in keyof T]?: T[P_1] | readonly T[P_1][] | undefined; };
        rawFilter: SqlRawFilter;
    }> | undefined) => Promise<void>;
    // (undocumented)
    getRow: <T extends Record<string, unknown>>(tableName: TableName, options?: RowSelectOneOptions<T, SqlRawFilter> | undefined) => Promise<T | undefined>;
    // (undocumented)
    insertRow: <T extends Record<string, unknown>>(tableName: TableName, value: T) => Promise<number>;
    // (undocumented)
    selectRow: <T extends Record<string, unknown>>(tableName: TableName, options?: RowSelectOptions<T, SqlRawFilter> | undefined) => Promise<T[]>;
    // (undocumented)
    updateRow: <T extends Record<string, unknown>>(tableName: TableName, value?: T | undefined, options?: Partial<{
        filter: { [P in keyof T]?: T[P] | readonly T[P][] | undefined; };
        fuzzyFilter: { [P_1 in keyof T]?: T[P_1] | readonly T[P_1][] | undefined; };
        rawFilter: SqlRawFilter;
    }> | undefined) => Promise<number>;
}

// @public (undocumented)
export interface SqlRawFilter {
    // (undocumented)
    sql: string;
    // (undocumented)
    value: unknown[];
}

// @public (undocumented)
export function useLocation(React: {
    useEffect: typeof useEffect;
    useRef: typeof useRef;
    useState: typeof useState;
}): string;

// (No @packageDocumentation comment for this package)

```
